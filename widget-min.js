(function(){function o(){widgetSize=widgetDonateButton=widgetDonate=widgetText=null;if(!m.innerHTML.match(/;/))try{eval("json = "+m.innerHTML);if(json){if(json.text)widgetText=json.text;if(json.d_amt)widgetDonate=json.d_amt;if(json.d_btn)widgetDonateButton=json.d_btn;if(json.size)widgetSize=json.size}}catch(a){}b.init("Donate to Creative Commons",'<div id="cc_widget_dialog_moreOptions"><p style="float: right"><img src="https://support.creativecommons.org/sites/default/files/cc-shirt-ft.png" alt="Supporter Shirt"><br><small>Supporter T-Shirt<br>CC-BY <a href="http://www.flickr.com/photos/franktobia/3722933771">Frank Tobia</a></small></p><form name="donateOptions" id="cc_widget_dialog_donateOptions"><div id="cc_widget_dialog_noPremiums" style="display:block;"><p><strong>Note:</strong> You will not receive any premiums, including the campaign t-shirt, at this donation&nbsp;level.</p></div><div id="cc_widget_dialog_recurring" style="display:block;"><h5>Monthly Donation <small>(Optional)</small></h5><p><input type="radio" name="cc_widget_dialog_recur" value="1" id="cc_widget_dialog_recur_annual"> $<span name="cc_widget_dialog_recurringAmount" id="cc_widget_dialog_recurringAmountMonthly"></span> per month <em>for the next year</em>.<br><input type="radio" name="cc_widget_dialog_recur" value="2" id="cc_widget_dialog_recur_inf"> $<span name="cc_widget_dialog_recurringAmount" id="cc_widget_dialog_recurringAmountInf"></span> per month <em>until I choose to cancel</em>.<br><input type="radio" name="cc_widget_dialog_recur" id="cc_widget_dialog_recur_none"> A single donation of $<span id="cc_widget_dialog_amount"></span>.</p></div><div id="cc_widget_dialog_premiums" style="display:block;"><h5>Gift Options</h5><p><input id="cc_widget_dialog_giftCheck" onchange="cc_hidePremiums(this);" name="giftCheck" type="checkbox" checked value="yes" class="cc_widget_dialog_form-checkbox"><label for="giftCheck">I would like to receive a gift for my donation.</label></p><div id="cc_widget_dialog_tshirtSize"><h5>Tshirt Size</h5><select name="cc_widget_dialog_size"><option value="">-- Select Size --</option><option value="Women\'s Medium">Women\'s Medium</option><option value="Adult Small">Adult Small</option><option value="Adult Medium">Adult Medium</option><option value="Adult Large">Adult Large</option><option value="Adult X-Large">Adult X-Large</option><option value="Adult XX-Large">Adult XX-Large</option></select><span id="cc_widget_dialog_shirtError"></span></div></div><h5>Mailing List Opt-in</h5><p><input id="cc_widget_dialog_newsletterGroup" name="cc_widget_dialog_groups" type="checkbox" value="CC Newsletter" class="cc_widget_dialog_form-checkbox"><label for="newsletterGroup">Yes, I would like to receive CC Newsletters.</label><br><input id="cc_widget_dialog_eventsGroup" name="cc_widget_dialog_groups" type="checkbox" value="CC Events" class="cc_widget_dialog_form-checkbox"><label for="eventsGroup">Yes, I would like to be notified about CC events.</label></p><h5>Supporter Listing Opt-out</h5><p><input id="cc_widget_dialog_optout" name="cc_widget_dialog_optout" type="checkbox" value="Supporters" class="cc_widget_dialog_form-checkbox"><label for="optout">Do not include my name in any supporter lists.</label></p><div class="cc_widget_dialog_paymentOptions"><h5>Payment Options</h5><ul><li><strong>PayPal</strong> \u2014 Use your credit card or PayPal account.</li><li><strong>Google Checkout</strong> \u2014 Requires a Checkout account.</li></ul></div></form></div>');
g.init(m,widgetText,widgetDonate,widgetDonateButton,widgetSize);c("#cc_widget_donation_donate").selector[0].onclick=function(){b.open();return false}}var k=0,c=function(a){return new c.fn.init(a)};c.fn=c.prototype={selector:"",init:function(a){this.selector=[];if(a)if(typeof a=="object")this.selector.push(a);else if(a.match(/^#/))this.selector.push(document.getElementById(a.substring(1,a.length)));else if(a.match(/^\./))this.selector.push(document.getElementsByClassName(a.substring(1,a.length)));
else this.selector=a.match(/^name=/)?document.getElementsByName(a.substring(5,a.length)):document.getElementsByTagName(a)},first:function(){return new c.fn.init(this.selector[0])},length:function(){return this.selector.length},nth:function(a){return this.selector[a]},each:function(a){if(typeof a=="function"){l=this.selector.length;for(i=0;i<l;i++)a.call(this.selector[i])}},show:function(a){this.each(function(){if(this.style.display!="block"){this.style.display="block";a&&c(this).fadeIn(300)}})},hide:function(a){this.each(function(){if(this.style.display!=
"none")if(a)c(this).fadeOut(300);else this.style.display="none"})},toggle:function(){this.each(function(){this.style.display=this.style.display=="none"?"block":"none"})},checked:function(a){if(!a)return this.selector[0].checked;this.each(function(){this.checked=a})},html:function(a){if(!a)return this.selector[0].innerHTML;this.each(function(){this.innerHTML=a})},value:function(a){if(!a)return this.selector[0].value;this.each(function(){this.value=a})},queryStringBuilder:function(a){var f=[];for(var d in a)if(typeof a[d]==
"string"||typeof a[d]=="number"){f.push(d);f.push(a[d])}a=f.length;d="";for(i=0;i<a;i++){d+=escape(f[i]);if(i<a-1)d+=i%2?"&":"="}return d},fadeIn:function(a){this._fade(0,1,a)},fadeOut:function(a){this._fade(1,0,a)},_fade:function(a,f,d){e=this.selector[0];e.fadeInterval&&clearInterval(e.fadeInterval);e.style.opacity=a;e.style.filter="alpha(opacity="+a*100+")";var h=d/30,j=(f-a)/h,n=a,p=0;e.fadeInterval=setInterval(function(){n+=j;e.style.opacity=n;e.style.filter="alpha(opacity="+n*100+")";p+=h;if(p>
d){clearInterval(e.fadeInterval);if(e.style.opacity<=0)e.style.display="none"}},h)}};c.fn.init.prototype=c.fn;var b=function(){return{href:"https://support.creativecommons.org/sites/default/modules/civicrm/bin/OneClick.php?oc_action=donate&&source=Widget+Contribution:+Superhero+Campaign&",premiumId:26,_create:function(a,f,d,h){if(b.dialog){var j=b.dialog;if(f)j=b.dialog[f];f="div";if(d)f=d;d=document.createElement(f);d=d.cloneNode(false);if(h)d.type=h;d.id="cc_widget_dialog_"+a;j.appendChild(d);
b.dialog[a]=d}},_showHideGifts:function(a,f){a<75?c("#cc_widget_dialog_noPremiums").show():c("#cc_widget_dialog_noPremiums").hide();a>=75?c("#cc_widget_dialog_premiums").show(f):c("#cc_widget_dialog_premiums").hide(f);a>=75?c("#cc_widget_dialog_giftCheck").value("yes"):c("#cc_widget_dialog_giftCheck").value("no");a>=75?c("#cc_widget_dialog_giftCheck").checked(true):c("#cc_widget_dialog_giftCheck").checked(false);a>=75?c("#cc_widget_dialog_tshirtSize").show():c("#cc_widget_dialog_tshirtSize").hide()},
_prepare:function(){b.queryString=Object();var a=b.queryString.amount=g.widget.donation_amount.value;b._showHideGifts(a);c("#cc_widget_dialog_recur_annual").checked(false);c("#cc_widget_dialog_recur_inf").checked(false);c("#cc_widget_dialog_recur_none").checked(true);if(a>5){k=a/12<5?a:parseFloat(a/12).toFixed(2);c("#cc_widget_dialog_recurringAmountMonthly").html(k);c("#cc_widget_dialog_recurringAmountInf").html(k);c("#cc_widget_dialog_amount").html(a);c("#cc_widget_dialog_recurring").show()}else c("#cc_widget_dialog_recurring").hide();
c("#cc_widget_dialog_shirtError").html("");c("#cc_widget_dialog_optout").checked(false)},_process:function(){var a="";c("name=cc_widget_dialog_recur").each(function(){if(this.checked&&this.value!="on")a=this.value});if(a){console.log(a);b.queryString.recur=a;b.queryString.amount=k}if(c("#cc_widget_dialog_giftCheck").checked()==true&&(b.queryString.amount>=75||b.queryString.recur&&b.queryString.amount*12>=75)){b.queryString.premium=26;var f=c("name=cc_widget_dialog_size").value();if(f==""){c("#cc_widget_dialog_shirtError").html("Please select a size!");
return-1}b.queryString.size=f}var d=[];c("name=cc_widget_dialog_groups").each(function(){this.checked&&d.push(this.value)});if(d.length)b.queryString.groups=d.join(":");if(c("name=cc_widget_dialog_optout").checked())b.queryString.sloptout="IChooseToSloptOut"},init:function(a,f){if(!b.dialog){b.dialog=document.createElement("div");b.dialog.id="cc_widget_dialog";b.dialog.style.display="none";b._create("header");b.dialog.header.innerHTML="<h2>"+a+"</h2>";b._create("body");b.dialog.body.innerHTML="<p>"+
f+"</p>";b._create("footer");b._create("paypal_button","footer","button");b.dialog.paypal_button.innerHTML="<span>Paypal</span>";b.dialog.paypal_button.onclick=b.paypalClick();b._create("google_button","footer","button");b.dialog.google_button.innerHTML="<span>Google Checkout</span>";b.dialog.google_button.onclick=b.googleClick();b._create("cancel_button","footer","button");b.dialog.cancel_button.innerHTML="I've changed my mind";b.dialog.cancel_button.onclick=function(){b.close()};c("body").nth(0).appendChild(b.dialog);
c("#cc_widget_dialog_recur_annual").nth(0).onclick=function(){b.recurCheck(1)};c("#cc_widget_dialog_recur_inf").nth(0).onclick=function(){b.recurCheck(2)};c("#cc_widget_dialog_recur_none").nth(0).onclick=function(){b.recurCheck()}}},paypalClick:function(){return function(){if(b._process()==-1)console.log("error");else{b.queryString.pp="paypal";href=b.href+c(null).queryStringBuilder(b.queryString);b.close();location.href=href}}},googleClick:function(){return function(){if(b._process()==-1)console.log("error");
else{b.queryString.pp="gc";href=b.href+c(null).queryStringBuilder(b.queryString);b.close();location.href=href}}},recurCheck:function(a){switch(a){case 1:case 2:b._showHideGifts(b.queryString.amount*12,true);break;default:b._showHideGifts(b.queryString.amount,true)}},open:function(){if(b.dialog){if(b.dialog.style.display!="block"){b._prepare();b.dialog.style.display="block";t=document.documentElement.clientHeight/2-b.dialog.clientHeight/2+document.body.scrollTop;if(t<0)t=10;b.dialog.style.top=t+"px";
b.dialog.style.left=document.documentElement.clientWidth/2-b.dialog.clientWidth/2+"px";c(b.dialog).fadeIn(200)}}else alert("run cc_w.init method first")},close:function(){c(b.dialog).fadeOut(200)},toggle:function(){b.dialog.style.display=="block"?b.close():b.open()}}}(),g=function(){return{_create:function(a,f,d,h){if(g.widget){var j=g.widget;if(f)j=g.widget[f];f="div";if(d)f=d;d=document.createElement(f);d=d.cloneNode(false);if(h)d.type=h;d.id="cc_widget_"+a;j.appendChild(d);g.widget[a]=d}},init:function(a,
f,d,h,j){if(f==null)f="Be a hero and support Creative Commons!";if(d==null)d="25";if(j==null)j="normal";if(h==null)h="Donate";g.widget=document.createElement("div");g.widget.id="cc_widget";g.widget.className="cc_widget_size_"+j;a.parentNode.insertBefore(g.widget,a.nextSibling);g._create("widget_base");g._create("widget_title","widget_base","h1");c("#cc_widget_widget_title").html("<span>Creative Commons</span>");g._create("widget_text","widget_base","p");c("#cc_widget_widget_text").html(f);g._create("widget_form",
"widget_base","form");c("#cc_widget_widget_form").html("$");g._create("donation_amount","widget_form","input");g.widget.donation_amount.value=d;g.widget.donation_amount.size=6;g._create("donation_donate","widget_form","input","submit");g.widget.donation_donate.value=h;g._create("share","widget_base");c("#cc_widget_share").html('<a href="https://support.creativecommons.org/widget">Share</a>')}}}(),q=document.getElementsByTagName("script"),m=q[q.length-1];(function(){var a=c("head").selector[0];if(!a){var f=
c("body").selector[0];a=document.createElement("head");f.parentNode.insertBefore(a,f)}stylesheet=document.createElement("link");stylesheet.rel="stylesheet";stylesheet.type="text/css";stylesheet.href="http://creativecommons.org/includes/widget.css?2.1";a.appendChild(stylesheet)})();typeof window.addEventListener!=="undefined"?window.addEventListener("load",o(),false):window.attachEvent("onload",o)})();
